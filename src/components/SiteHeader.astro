---
export interface Props {
  baseUrl?: string
}
const { baseUrl = '' } = Astro.props as Props
---
<header class="fixed top-0 w-full bg-white/90 backdrop-blur-sm z-50 border-b border-slate-200" data-component="site-header">
  <div class="max-w-7xl mx-auto px-4">
    <div class="flex items-center justify-between h-16">
      <div class="flex items-center">
        <a href={`${baseUrl}/`} class="text-xl font-bold text-slate-800 font-raleway">meg+gumi</a>
      </div>
      <nav class="hidden md:flex space-x-8">
        <a href={`${baseUrl}/#top`} class="text-slate-600 hover:text-amber-500 transition-colors">HOME</a>
        <a href={`${baseUrl}/#services`} class="text-slate-600 hover:text-amber-500 transition-colors">SERVICES</a>
        <a href={`${baseUrl}/#team`} class="text-slate-600 hover:text-amber-500 transition-colors">TEAM</a>
        <a href={`${baseUrl}/#about`} class="text-slate-600 hover:text-amber-500 transition-colors">ABOUT</a>
        <a href={`${baseUrl}/#works`} class="text-slate-600 hover:text-amber-500 transition-colors">WORKS</a>
        <a href={`${baseUrl}/#media`} class="text-slate-600 hover:text-amber-500 transition-colors">MEDIA</a>
        <a href={`${baseUrl}/#faq`} class="text-slate-600 hover:text-amber-500 transition-colors">FAQ</a>
        <a href={`${baseUrl}/#contact`} class="text-slate-600 hover:text-amber-500 transition-colors">CONTACT</a>
      </nav>
      <button class="md:hidden" id="mobile-menu-toggle">
        <i class="fas fa-bars text-slate-600 transition-transform duration-300" id="mobile-menu-icon"></i>
      </button>
    </div>
    <div class="hidden md:hidden py-4 border-t border-slate-200 relative z-60" id="mobile-menu">
      <nav class="flex flex-col space-y-4">
        <a href={`${baseUrl}/#top`} class="text-slate-600 hover:text-amber-500 transition-colors">HOME</a>
        <a href={`${baseUrl}/#services`} class="text-slate-600 hover:text-amber-500 transition-colors">SERVICES</a>
        <a href={`${baseUrl}/#team`} class="text-slate-600 hover:text-amber-500 transition-colors">TEAM</a>
        <a href={`${baseUrl}/#about`} class="text-slate-600 hover:text-amber-500 transition-colors">ABOUT</a>
        <a href={`${baseUrl}/#works`} class="text-slate-600 hover:text-amber-500 transition-colors">WORKS</a>
        <a href={`${baseUrl}/#media`} class="text-slate-600 hover:text-amber-500 transition-colors">MEDIA</a>
        <a href={`${baseUrl}/#faq`} class="text-slate-600 hover:text-amber-500 transition-colors">FAQ</a>
        <a href={`${baseUrl}/#contact`} class="text-slate-600 hover:text-amber-500 transition-colors">CONTACT</a>
      </nav>
    </div>
  </div>
  <div class="hidden fixed inset-0 backdrop-blur-sm z-40 md:hidden" id="mobile-menu-overlay"></div>
</header>

<script>
  const toggle = document.getElementById('mobile-menu-toggle')
  const icon = document.getElementById('mobile-menu-icon')
  const menu = document.getElementById('mobile-menu')
  const overlay = document.getElementById('mobile-menu-overlay')
  let open = false
  const setOpen = (val) => {
    open = val
    if (open) {
      menu.classList.remove('hidden')
      overlay.classList.remove('hidden')
      icon.className = 'fas fa-times text-slate-600 transition-transform duration-300'
      document.body.style.overflow = 'hidden'
    } else {
      menu.classList.add('hidden')
      overlay.classList.add('hidden')
      icon.className = 'fas fa-bars text-slate-600 transition-transform duration-300'
      document.body.style.overflow = ''
    }
  }
  toggle?.addEventListener('click', () => setOpen(!open))
  overlay?.addEventListener('click', () => setOpen(false))
  menu?.querySelectorAll('a')?.forEach(a => a.addEventListener('click', () => setOpen(false)))
</script>

